<div class="popup-container" id="formNewsletter" style="display:none;position:fixed;top:0;left:0;width:100%;height:93%;
                background-color:rgba(0,0,0,0.5);">
              <div class="popup-content">
                <!-- MailChimp API 489be6247f773c03fd63c631ef801d85-us8 -->
                  <h3>Newsletter sign up</h3>
                  <form id="newsletterForma">
                    <label for="fullname">Full name</label>
                    <input id="to_fullname" type="text" name="fullname" placeholder="Your full name">
                      <label for="email">Email</label>
                      <input id="to_name" type="text" name="email" placeholder="Your email address">
                      <!-- <label for="birthday">Birthday</label>
                      <input id="birthday" type="date" name="birthday" placeholder="Your birthday"> -->
                      <input type="submit" id="slanjeButton" value="Send Email" >
                  </form>
                  <div class="popup-buttons">

                      <button type="button" class="closeLogin" onclick="CloseNewsletterForm()">Close</button>
                  </div>
              </div>
          </div>

          <!-- Dodati na dno stranice -->

          <script type="text/javascript"
  src="https://cdn.jsdelivr.net/npm/emailjs-com@2.3.2/dist/email.min.js"></script>

  <script> 
  emailjs.init("lHaUrvKDqOO16pVqT");
  </script>

<script>
function sendEmail() {
        var form = document.getElementById("newsletterForma");
        var fullname = document.getElementById("to_fullname").value;
        var name = document.getElementById("to_name").value;

        var template_params = {
          "to_fullname": fullname,
          "to_name": name
        };

        emailjs.send("service_smd9uuu", "template_j4w4kxj", template_params)
            .then(function(response) {
                console.log("Custom email sent:", response);
                alert("Email sent successfully!");
                window.location.reload();
            }, function(error) {
                console.error("Error sending custom email:", error);
                alert("Error sending email. Please try again later.");
                ResetValues();
            });
        
        


    }

    // Attach the form submission to the function
    document.getElementById("newsletterForma").addEventListener("submit", function(event) {
        event.preventDefault();
        sendEmail();
    });

</script>




------------------------------------------------


 <!-- W3.CSS Container -->
 <div class="w3-light-grey w3-container w3-padding-25">
  <div class="footer">
    <div class="social">
      <a href="https://www.facebook.com/FabLabSarajevo/" target="_blank" title="FaceBook"><i
          class="fab fa-facebook-square fa-2x fb iconBg"></i></a>
      <a href="https://instagram.com/fablab_sarajevo" target="_blank" title="Instagram"><i
          class="fab fa-instagram fa-2x ig iconBg"></i></a>
      <a href="https://www.linkedin.com/company/fablab-bosnia/" target="_blank" title="LinkedIn"><i
          class="fab fa-linkedin fa-2x in iconBg"></i></a>
      <a href="https://www.youtube.com/channel/UCPcQN7iMKPt97w0ktjtk7mQ" target="_blank" title="YouTube"><i
          class="fab fa-youtube fa-2x yt iconBg"></i></a>
      <a href="https://github.com/FabLab-BiH" target="_blank" title="Github"><i
          class="fab fa-github fa-2x gh iconBg"></i></a>
    </div>
    <div class="contactInfo">
      <a href="https://goo.gl/maps/RCPKMmExtiyvqkg87" target="_blank" class="textDecoration"
        title="Click here to see our location"><i class="fas fa-map-marker-alt"></i>&nbsp;&nbsp;&nbsp;Zmaja od
        Bosne 8,
        71000 Sarajevo </a><br>
      <a href="mailto: info@fablab.ba" target="_blank" class="textDecoration"
        title="Contact us for all your questions!"><i class="fas fa-envelope"></i>&nbsp; info@fablab.ba</a><br>
      <a href="tel:+387-62-601060" target="_blank" class="textDecoration" title="Click to call us!"> <i
          class="fas fa-phone-alt"></i>&nbsp;+387 62 60 10 60 </a><br>
      &copy; FabLab 2021 &nbsp;Sarajevo
    </div>
    <!-- <br> -->

    <div class="popup-container" id="formNewsletter" style="display:none;position:fixed;top:25%;left:25%;width:50%;height:60%;
          background-color:white;border:10px solid black;">
       <div>
              <div class="custom-form">
              <h2>Add Contact to MailChimp List</h2>
                <form id="subscription-form">

                    <label for="EMAIL">Email:</label>
                    <input type="email" id="EMAIL" name="EMAIL" required>
                    <label for="FNAME">First Name:</label>
                    <input type="text" id="FNAME" name="FNAME">
                    <label for="LNAME">Last Name:</label>
                    <input type="text" id="LNAME" name="LNAME">
                    <button type="submit">Add to List</button>
                    <br>
                    <button onclick="CloseNewsletterForm()">Close</button>

                </form>
              <p id="status-message"></p>
  </div>
    </div>
  </div>
    <div class="terms">
      <span class="fade"><img src="../../slike/privacy.png" width="20px"><a href="https://fablab.ba/?page=pages/en/terms"
          class="textDecoration" target="_blank"> Terms of service</a></span><br>
      <span class="fade"><img src="../../slike/impressum.png" width="20px"> <a href="https://fablab.ba/?page=pages/en/impressum"
          class="textDecoration" target="_blank"> Impressum</a></span> <br>
      <span class="fade"><img src="../../slike/terms.png" width="20px"> <a href="https://fablab.ba/?page=pages/en/policy"
          class="textDecoration" target="_blank"> Privacy policy</a> </span>
    </div>
  </div>
<br>
<div>
    <!-- <form id="formaNewsletter" style="border: 2px solid black;" action="subscribe.php" method="post">     // Ovo je pristup sa direktnim slanjem maila bez popup forme
      <label for="email">Email:</label>
      <input type="email" id="email" placeholder="Enter your email address" name="email" required>
      <button type="submit">Subscribe</button>
    </form> -->
    <button id="newsletterButton" onclick="OpenNewsletterForm()" style="border: 2px solid black; background-color: blue; color:white; height:30px; width: 100%;">Open subscription form</button>
    <!-- <button id="newsletterButton" onclick="idiNaStranicu()" style="border: 2px solid black; background-color: blue; color:white; height:30px; width: 100%;">Open subscription form</button> -->
    </div>

</div>
</div>

</div>
<!-- Cookie Notice plugin v1.3.2 by FabLab Factory https://fablab.ba/ -->
<div align="center" id="cookie-notice" role="banner"
class="cookie-notice-hidden cookie-revoke-hidden cn-position-bottom" aria-label="Cookie Notice" style="background-color: rgba(0,0,0,1);">
<div class="cookie-notice-container" style="color: #fff;font-size:smaller">
<span id="cn-notice-text" class="cn-text-container">
  We do not use cookies. Your Internet Protocol Address <?php echo $_SERVER['REMOTE_ADDR']; ?> is logged in our database.
</span><span id="cn-notice-buttons" class="cn-buttons-container"></span>
</div>

</div>
<!-- / Cookie Notice plugin -->


<!-- <script src="../../signup_script.js"></script> -->
<!-- <script src="../../hubspot_script.js"></script> -->
<!-- <script src="../../testMCjavas.js"></script> -->

<script>
document.addEventListener("DOMContentLoaded", function() {
var form = document.getElementById("subscription-form");
var statusMessage = document.getElementById("status-message");

form.addEventListener("submit", function(event) {
  event.preventDefault(); // Prevent the form from submitting normally

  var email = form["EMAIL"].value;
  var firstName = form["FNAME"].value;
  var lastName = form["LNAME"].value;

  // MailChimp API settings
  var apiKey = 'fb1941595bca7cff161deccf9406bb67';
  var listId = 'd55371d9d8';

  var url1=`https://us8.api.mailchimp.com/3.0`;
  var url = `https://us8.api.mailchimp.com/3.0/lists/d55371d9d8/members`;
  var data = {
      email_address: email,
      status: "subscribed",
      merge_fields: {
          FNAME: firstName,
          LNAME: lastName
      }
  };

  fetch(url, {
      method: 'POST',
      mode: 'no-cors',
      headers: {
          'Authorization': `Basic ${btoa('anystring:' + apiKey)}`, // Basic authentication
          'Content-Type': 'application/json'
      },
      body: JSON.stringify(data)
  })
  .then(response => response.json())
  .then(result => {
      if (result.status === "subscribed") {
          statusMessage.textContent = "Contact added to the list. Thank you!";
          form.reset();
      } else {
          statusMessage.textContent = "Failed to add contact. Please try again.";
      }
  })
  .catch(error => {
      console.error("Error:", error);
      statusMessage.textContent = "An error occurred. Please try again later.";
  });
});
});
</script>

<script>

function uradiDodavanje(){

const MailchimpMarketing = require('/path/to/MailchimpMarketing/vendor/autoload.php');
const mailchimp = new MailchimpMarketing.ApiClient();
mailchimp.set_config({
  apiKey: 'fb1941595bca7cff161deccf9406bb67-us8',
  server: 'us8'
});
const list_id = "d55371d9d8";
try {
  const response = mailchimp.lists.addListMember(list_id, {
      email_address: "prudence.mcvankab@example.com",
      status: "subscribed",
      merge_fields: {
        FNAME: "Prudence",
        LNAME: "McVankab"
      }
  });
  console.log(response);
} catch (e) {
  console.log(e.message);
}

}

function OpenNewsletterForm()
{
document.getElementById("formNewsletter").style.display = "block";
}

function CloseNewsletterForm() {
document.getElementById("formNewsletter").style.display = "none";
document.getElementById("EMAIL").value="";
document.getElementById("FNAME").value="";
document.getElementById("LNAME").value="";
document.getElementById("status-message").innerHTML="";
//  ResetValues();
}

function ResetValues() {
document.getElementById("mce-EMAIL").value="";
document.getElementById("mce-FNAME").value="";
document.getElementById("mce-LNAME").value="";
}

</script>

-----------------------------------------------------------

<div id="mc_embed_shell">
  <link href="//cdn-images.mailchimp.com/embedcode/classic-061523.css" rel="stylesheet" type="text/css">
<style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width: 600px;}
    /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://fit.us8.list-manage.com/subscribe/post?u=85fe0bd0ad8c72aae661e142a&amp;id=d55371d9d8&amp;f_id=00d27fe0f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank">
    <div id="mc_embed_signup_scroll"><h2>Subscribe</h2>
        <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
        <div class="mc-field-group"><label for="mce-EMAIL">Email Address <span class="asterisk">*</span></label><input type="email" name="EMAIL" class="required email" id="mce-EMAIL" required="" value=""></div><div class="mc-field-group"><label for="mce-FNAME">First Name </label><input type="text" name="FNAME" class=" text" id="mce-FNAME" value=""></div><div class="mc-field-group"><label for="mce-LNAME">Last Name </label><input type="text" name="LNAME" class=" text" id="mce-LNAME" value=""></div>
    <div id="mce-responses" class="clear foot">
        <div class="response" id="mce-error-response" style="display: none;"></div>
        <div class="response" id="mce-success-response" style="display: none;"></div>
    </div>
<div aria-hidden="true" style="position: absolute; left: -5000px;">
    /* real people should not fill this in and expect good things - do not remove this or risk form bot signups */
    <input type="text" name="b_85fe0bd0ad8c72aae661e142a_d55371d9d8" tabindex="-1" value="">
</div>
    <div class="optionalParent">
        <div class="clear foot">
            <input type="submit" name="subscribe" id="mc-embedded-subscribe" class="button" value="Subscribe">
            <p style="margin: 0px auto;"><a href="http://eepurl.com/ixo4nc" title="Mailchimp - email marketing made easy and fun"><span style="display: inline-block; background-color: transparent; border-radius: 4px;"><img class="refferal_badge" src="https://digitalasset.intuit.com/render/content/dam/intuit/mc-fe/en_us/images/intuit-mc-rewards-text-dark.svg" alt="Intuit Mailchimp" style="width: 220px; height: 40px; display: flex; padding: 2px 0px; justify-content: center; align-items: center;"></span></a></p>
        </div>
    </div>
</div>
</form>
</div>
<script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script><script type="text/javascript">(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script></div>
